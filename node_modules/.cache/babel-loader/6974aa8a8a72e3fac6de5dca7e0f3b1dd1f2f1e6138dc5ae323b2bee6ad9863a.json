{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/BitCodeFrontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/BitCodeFrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspaces/BitCodeFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./comm.css';import{useState,useEffect}from'react';import{json,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Comments=function Comments(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user_name=_useState2[0],setName=_useState2[1];var user=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/home',{method:\"GET\",headers:{'Content-Type':'Application/json','Access-Control-Allow-Origin':'*'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setName(data.name);case 7:case\"end\":return _context.stop();}},_callee);}));return function user(){return _ref.apply(this,arguments);};}();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),blog=_useState4[0],setBlog=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],setnewComment=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),post=_useState8[0],setnewPost=_useState8[1];var fun=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('/discussion',{method:\"GET\",headers:{'Content-Type':'Application/json','Access-Control-Allow-Origin':'*'}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;setBlog(data);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function fun(){return _ref2.apply(this,arguments);};}();var commenting=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var id,response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();id=e.target.id;_context3.next=4;return fetch('/thread',{method:\"POST\",headers:{'Content-Type':'Application/json','Access-Control-Allow-Origin':'*'},body:JSON.stringify({id:id,user_name:user_name,post:post,comment:comment})});case 4:response=_context3.sent;_context3.next=7;return response.json();case 7:data=_context3.sent;setBlog(data);setnewComment('');setnewPost('');case 11:case\"end\":return _context3.stop();}},_callee3);}));return function commenting(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){fun();user();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add new post\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Write post here..!\",value:post,onChange:function onChange(e){return setnewPost(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:commenting,children:\"add blog\"})]}),blog.map(function(value,ind){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:value.Uname}),/*#__PURE__*/_jsx(\"p\",{children:value.post}),/*#__PURE__*/_jsx(\"hr\",{}),\"comments\",/*#__PURE__*/_jsx(\"br\",{}),value.comments.map(function(value1,ind1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"@\",value1.user_name]}),/*#__PURE__*/_jsx(\"pre\",{children:value1.comment}),/*#__PURE__*/_jsx(\"br\",{})]});}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"comment here..!\",onChange:function onChange(e){return setnewComment(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{id:value._id,onClick:commenting,children:\"comment\"})]})]});})]});};export default Comments;","map":{"version":3,"names":["React","useState","useEffect","json","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Comments","_useState","_useState2","_slicedToArray","user_name","setName","user","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","sent","name","stop","apply","arguments","_useState3","_useState4","blog","setBlog","_useState5","_useState6","comment","setnewComment","_useState7","_useState8","post","setnewPost","fun","_ref2","_callee2","_callee2$","_context2","commenting","_ref3","_callee3","e","id","_callee3$","_context3","preventDefault","target","body","JSON","stringify","_x","children","placeholder","value","onChange","onClick","map","ind","Uname","comments","value1","ind1","_id"],"sources":["/workspaces/BitCodeFrontend/src/components/Disscusion/Comments.js"],"sourcesContent":["import React from 'react'\nimport './comm.css'\nimport { useState,useEffect } from 'react'\nimport { json, useParams } from 'react-router-dom'\n\nconst Comments = () => {\n  let [user_name,setName]=useState('');\n  const  user=async ()=>{\n    const response=await fetch('/home',{\n        method:\"GET\",\n        headers:{\n         'Content-Type':'Application/json',\n         'Access-Control-Allow-Origin':'*'\n        }\n    });\n    let data=await response.json();\n    setName(data.name);\n  }\n  \n  const [blog,setBlog] = useState([]);\n  const [comment,setnewComment]=useState('');\n  const [post,setnewPost]=useState('');\n  const fun = async () => {\n    const response = await fetch('/discussion',{\n      method:\"GET\",\n      headers:{\n       'Content-Type':'Application/json',\n       'Access-Control-Allow-Origin':'*'\n      }\n    });\n    let data = await response.json();\n    setBlog(data);\n    \n  }\n let commenting=async(e)=>{\n      e.preventDefault();\n     const id=e.target.id;\n     let response=await fetch('/thread',{\n      method:\"POST\",\n      headers:{\n       'Content-Type':'Application/json',\n       'Access-Control-Allow-Origin':'*'\n      },\n      body:JSON.stringify({id,user_name,post,comment})\n  });\n  let data = await response.json();\n  setBlog(data);\n  setnewComment('');\n  setnewPost('');\n\n }\n\n  useEffect(() => {\n    fun();\n    user();\n  },[]);\n\n  return (\n    <>\n    <h1>Add new post</h1>\n    <form>\n    <textarea placeholder='Write post here..!' value={post} onChange={(e)=>setnewPost(e.target.value)}></textarea>\n    <button  onClick={commenting}>add blog</button>\n    </form>\n      {\n        blog.map((value,ind)=>\n            <>\n            <h2>{value.Uname}</h2>\n            <p>{value.post}</p>\n            <hr/>\n            comments\n            <br/>\n            {value.comments.map((value1,ind1)=>\n             <>\n             <label>@{value1.user_name}</label>\n             <pre>{value1.comment}</pre>\n             <br/>\n             </>\n            )\n            }\n             <form>\n            <textarea placeholder='comment here..!' onChange={(e)=>setnewComment(e.target.value)}></textarea>\n            <button id={value._id} onClick={commenting}>comment</button>\n            </form>\n            </>\n        )\n      }\n    </>\n  )\n}\n\nexport default Comments"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}